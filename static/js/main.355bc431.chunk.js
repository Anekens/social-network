(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{130:function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var n=r(44),a=r(12),o=r(26),c=r.n(o),s=(r(0),r(25));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={usersData:[{name:"Max",id:1,avatar:c.a},{name:"Vlad",id:2,avatar:c.a},{name:"Vanya",id:3,avatar:c.a},{name:"Ilya",id:4,avatar:c.a},{name:"Anastasiya",id:5,avatar:c.a},{name:"Dimych",id:6,avatar:c.a}],messagesData:[{text:"Hi",id:1},{text:"See you later",id:2},{text:"No problem",id:3},{text:"okay",id:4},{text:"ok",id:5},{text:"not yet",id:6}],dialogs:[{you:!0,message:"Hi"},{you:!1,message:"How's it going?"}]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var r={you:!0,message:t.message};return u({},e,{dialogs:[].concat(Object(n.a)(e.dialogs),[r])});default:return e}};var p=function(e){return function(t){t({type:"SEND-MESSAGE",message:e}),t(Object(s.a)("dialogWithFriend"))}}},135:function(e,t,r){e.exports=r.p+"static/media/prevBtn.1d79418f.svg"},136:function(e,t,r){e.exports=r.p+"static/media/nextBtn.c46d3e94.svg"},137:function(e,t,r){e.exports=r.p+"static/media/Spinner-1s-200px.dd067c7a.svg"},138:function(e,t,r){e.exports={container:"Preloader_container__jjRrI"}},141:function(e,t,r){e.exports={wrapper:"Login_wrapper__2AYx0"}},169:function(e,t,r){e.exports=r(294)},19:function(e,t,r){e.exports={main:"users_main__1YCxm",wrapper:"users_wrapper__19FtL",item:"users_item__3vkrY",userPhoto:"users_userPhoto__3UJlr",avatar:"users_avatar__1in-E",info:"users_info__1xSiq",name:"users_name__2b6c8",status:"users_status__3IcnY",button:"users_button__2EomJ",follow:"users_follow__3L8N5"}},26:function(e,t,r){e.exports=r.p+"static/media/user.93a57c9f.png"},27:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return p})),r.d(t,"d",(function(){return f})),r.d(t,"a",(function(){return m}));var n=r(95),a=r(0),o=r.n(a),c=r(28),s=r.n(c),i=r(90),u=function(e){e.input;var t=e.meta,r=t.touched,n=t.error,a=e.children,c=r&&n;return o.a.createElement("div",{className:s.a.formControl+" "+(c?s.a.error:"")},o.a.createElement("div",null,a),c&&o.a.createElement("span",null,n))},l=function(e){var t=e.input,r=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("textarea",Object.assign({},t,r)))},p=function(e){var t=e.input,r=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},t,r)))},f=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(i.a,Object.assign({placeholder:e,name:t,validate:r,component:n},a)),c)},m=function(e){var t=e.input,r=e.meta,n=r.touched&&r.error;return o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({className:n?s.a.textareaDialog+" "+s.a.error:s.a.textareaDialog},t)),n&&o.a.createElement("span",{className:s.a.errorMessage},r.error))}},28:function(e,t,r){e.exports={formControl:"FormsControls_formControl__3bDX4",error:"FormsControls_error__2aktV",formSummaryError:"FormsControls_formSummaryError__1pruc",textarea:"FormsControls_textarea__5GOaT",textareaDialog:"FormsControls_textareaDialog__2FU_y",errorMessage:"FormsControls_errorMessage__3AyMm",inputField:"FormsControls_inputField__opXlg"}},29:function(e,t,r){e.exports={nav:"Navbar_nav__1OJLH",navList:"Navbar_navList__qa2Cx",item:"Navbar_item__3KyAM",activeNav:"Navbar_activeNav__1iNNC",friends:"Navbar_friends__2YuxU"}},293:function(e,t,r){},294:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=r(53),c=r.n(o),s=r(54),i=r(55),u=r(65),l=r(56),p=r(66),f=r(72),m=r.n(f),d=r(29),g=r.n(d),b=r(23),h=function(){return a.a.createElement("nav",{className:g.a.nav},a.a.createElement("div",{className:g.a.navList},a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/profile",activeClassName:g.a.activeNav},"Profile")),a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/dialogs",activeClassName:g.a.activeNav},"Dialogs")),a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/users",activeClassName:g.a.activeNav},"Users"))))},v=r(34),O=r(17),w=r(6),_=r.n(w),E=r(11),y=r(44),P=r(12),j=r(9);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var C=function(e,t,r,n){return e.map((function(e){return e[r]===t?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(r,!0).forEach((function(t){Object(P.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},n):e}))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(P.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k="social-network/users/FOLLOW",I="social-network/users/UNFOLLOW",U="social-network/users/SET_USERS",D="social-network/users/SET_CURRENT_PAGE",A="social-network/users/SET_TOTAL_USERS_COUNT",F="social-network/users/TOGGLE_IS_FETCHING",T={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},L=function(e){return{type:k,userId:e}},z=function(e){return{type:I,userId:e}},M=function(e){return{type:D,currentPage:e}},G=function(e){return{type:F,isFetching:e}},H=function(e,t){return{type:"social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},R=function(){var e=Object(E.a)(_.a.mark((function e(t,r,n,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(H(!0,r)),e.next=3,n(r);case 3:0===e.sent.data.resultCode&&t(a(r)),t(H(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return N({},e,{users:C(e.users,t.userId,"id",{followed:!0})});case I:return N({},e,{users:C(e.users,t.userId,"id",{followed:!1})});case U:return N({},e,{users:t.users});case D:return N({},e,{currentPage:t.currentPage});case A:return N({},e,{totalUsersCount:t.count});case F:return N({},e,{isFetching:t.isFetching});case"social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS":return N({},e,{followingInProgress:t.isFetching?[].concat(Object(y.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},B=r(19),X=r.n(B),Y=r(98),J=r(35),V=r.n(J),q=r(96),K=r.n(q),Z=r(135),Q=r.n(Z),$=r(136),ee=r.n($),te=function(e){for(var t=e.totalItemsCount,r=e.pageSize,o=e.currentPage,c=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,u=Math.ceil(t/r),l=[],p=1;p<=u;p++)l.push(p);var f=Math.ceil(u/i),m=Object(n.useState)(1),d=Object(Y.a)(m,2),g=d[0],b=d[1],h=(g-1)*i+1,v=g*i;return a.a.createElement("div",{className:V.a.paginator},g>1&&a.a.createElement("button",{className:V.a.btn,onClick:function(){b(g-1)}},a.a.createElement("img",{className:V.a.btnIcon,src:Q.a})),l.filter((function(e){return e>=h&&e<=v})).map((function(e){return a.a.createElement("span",{className:K()(Object(P.a)({},V.a.selectedPage,o===e),V.a.pageNumber),key:e,onClick:function(t){c(e)}},e)})),f>g&&a.a.createElement("button",{className:V.a.btn,onClick:function(){b(g+1)}}," ",a.a.createElement("img",{className:V.a.btnIcon,src:ee.a})))},re=r(26),ne=r.n(re),ae=function(e){return a.a.createElement("div",{className:X.a.wrapper},a.a.createElement("div",{className:X.a.item},a.a.createElement("div",{className:X.a.avatar},a.a.createElement(b.b,{to:"/profile/"+e.user.id},a.a.createElement("img",{alt:"avatar",src:null!=e.user.photos.small?e.user.photos.small:ne.a,className:X.a.userPhoto}))),a.a.createElement("div",{className:X.a.info},a.a.createElement("div",{className:X.a.name},e.user.name),a.a.createElement("div",{className:X.a.status},e.user.status))),a.a.createElement("div",{className:X.a.button},e.user.followed?a.a.createElement("button",{className:X.a.follow,disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)}},"Unfollow"):a.a.createElement("button",{className:X.a.follow,disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)}},"Follow")))},oe=function(e){return a.a.createElement("div",{className:X.a.main},a.a.createElement(te,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize}),e.users.map((function(t){return a.a.createElement(ae,{user:t,key:t.id,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})})))},ce=r(40),se=r(8),ie=r(139),ue=Object(ie.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),le=function(e){return e.usersPage.pageSize},pe=function(e){return e.usersPage.totalUsersCount},fe=function(e){return e.usersPage.currentPage},me=function(e){return e.usersPage.isFetching},de=function(e){return e.usersPage.followingInProgress},ge=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onPageChanged=function(e){var t=r.props.pageSize;r.props.getUsers(e,t)},r}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,r=e.pageSize;this.props.getUsers(t,r)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.props.isFetching?a.a.createElement(ce.a,null):null,a.a.createElement(oe,{onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress}))}}]),t}(a.a.Component),be=Object(se.d)(Object(O.b)((function(e){return{users:ue(e),pageSize:le(e),totalUsersCount:pe(e),currentPage:fe(e),isFetching:me(e),followingInProgress:de(e)}}),{follow:function(e){return function(){var t=Object(E.a)(_.a.mark((function t(r){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R(r,e,j.d.follow.bind(j.d),L);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(E.a)(_.a.mark((function t(r){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R(r,e,j.d.unfollow.bind(j.d),z);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:M,toggleFollowingProgress:H,getUsers:function(e,t){return function(){var r=Object(E.a)(_.a.mark((function r(n){var a;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(G(!0)),n(M(e)),r.next=4,j.d.getUsers(e,t);case 4:a=r.sent,n(G(!1)),n((c=a.items,{type:U,users:c})),n((o=a.totalCount,{type:A,count:o}));case 8:case"end":return r.stop()}var o,c}),r)})));return function(e){return r.apply(this,arguments)}}()}}))(ge),he=r(45),ve=r.n(he),Oe=function(e){var t=e.isAuth,r=e.login,n=e.logout;return a.a.createElement("header",{className:ve.a.header},a.a.createElement("div",{className:ve.a.banner},t?a.a.createElement("div",{className:ve.a.logFrom},a.a.createElement("h3",{className:ve.a.name},r),a.a.createElement("span",{className:ve.a.logoutBtn,onClick:function(){return n()}},"Logout")):a.a.createElement(v.a,{to:"/login"})))},we=r(25);function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(r,!0).forEach((function(t){Object(P.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye="social-network/auth/SET_USER_DATA",Pe={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},je=function(e,t,r,n){return{type:ye,payload:{userId:e,email:t,login:r,isAuth:n}}},Se=function(e){return{type:"social-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},Ce=function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){var r,n,a,o,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.me();case 2:0===(r=e.sent).data.resultCode&&(n=r.data.data,a=n.id,o=n.email,c=n.login,t(je(a,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},xe=function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){var r,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.c.getCaptchaUrl();case 2:r=e.sent,n=r.data.url,t(Se(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:case"social-network/auth/GET_CAPTCHA_URL_SUCCESS":return Ee({},e,{},t.payload);default:return e}},ke=Object(O.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserData:Ce,logout:function(){return function(){var e=Object(E.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.logout();case 2:0===e.sent.data.resultCode&&t(je(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return a.a.createElement(Oe,Object.assign({},e,{logout:e.logout}))})),Ie=r(131),Ue=r(27),De=r(71),Ae=r(28),Fe=r.n(Ae),Te=Object(Ie.a)({form:"login"})((function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},Object(Ue.d)("Email","email",[De.b],Ue.b),Object(Ue.d)("Password","password",[De.b],Ue.b,{type:"password"}),Object(Ue.d)(null,"rememberMe",[],Ue.b,{type:"checkbox"},"remember me"),e.captchaUrl&&a.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),e.captchaUrl&&Object(Ue.d)("Symbols from image","captcha",[De.b],Ue.b),e.error&&a.a.createElement("div",{className:Fe.a.formSummaryError},e.error),a.a.createElement("div",null,a.a.createElement("button",null,"Login")))})),Le=r(141),ze=r.n(Le),Me=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,r,n){return function(){var a=Object(E.a)(_.a.mark((function a(o){var c,s;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.a.login(e,t,r,n);case 2:0===(c=a.sent).data.resultCode?o(Ce()):(10===c.data.resultCode&&o(xe()),s=c.data.messages.length>0?c.data.messages[0]:"Some error",o(Object(we.b)("login",{_error:s})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?a.a.createElement(v.a,{to:"/profile"}):a.a.createElement("div",{className:ze.a.wrapper},a.a.createElement("p",null,"Credentials for testing"),a.a.createElement("p",null,"Email: free@samuraijs.com"),a.a.createElement("p",null,"Password: free"),a.a.createElement("h1",null,"LOGIN"),a.a.createElement(Te,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))}));function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(r,!0).forEach((function(t){Object(P.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Re="social-network/app/INITIALIZED_SUCCESS",We={initialized:!1},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return He({},e,{initialized:!0});default:return e}},Xe=r(97),Ye=r(130),Je={},Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je;arguments.length>1&&arguments[1];return e},qe=r(142),Ke=r(132),Ze=Object(se.c)({profilePage:Xe.b,messagesPage:Ye.a,sidebar:Ve,usersPage:W,auth:Ne,form:Ke.a,app:Be}),Qe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||se.d,$e=Object(se.e)(Ze,Qe(Object(se.a)(qe.a)));window._store_=$e;var et=$e,tt=function(e){return function(t){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(ce.a,null)},a.a.createElement(e,t))}},rt=a.a.lazy((function(){return r.e(6).then(r.bind(null,409))})),nt=a.a.lazy((function(){return r.e(5).then(r.bind(null,408))})),at=a.a.lazy((function(){return Promise.all([r.e(3),r.e(4)]).then(r.bind(null,407))})),ot=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?a.a.createElement("div",{className:m.a.wrapper},a.a.createElement(ke,null),a.a.createElement(h,null),a.a.createElement("div",{className:m.a.content},a.a.createElement("div",{className:m.a.bg}),a.a.createElement(v.d,null,a.a.createElement(v.b,{exact:!0,path:"/",render:function(){return a.a.createElement(v.a,{to:"/profile"})}}),a.a.createElement(v.b,{exact:!0,path:"/dialogs",render:tt(nt)}),a.a.createElement(v.b,{exact:!0,path:"/dialogs/:userId",render:tt(rt)}),a.a.createElement(v.b,{path:"/profile/:userId?",render:tt(at)}),a.a.createElement(v.b,{path:"/users",render:function(){return a.a.createElement(be,null)}}),a.a.createElement(v.b,{path:"/login",render:function(){return a.a.createElement(Me,null)}}),a.a.createElement(v.b,{path:"*",render:function(){return a.a.createElement("div",null,"404 NOT FOUND")}})))):a.a.createElement(ce.a,null)}}]),t}(a.a.Component),ct=Object(se.d)(v.g,Object(O.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Ce());Promise.all([t]).then((function(){e({type:Re})}))}}}))(ot),st=function(){return a.a.createElement(b.a,null,a.a.createElement(O.a,{store:et},a.a.createElement(ct,null)))};r(293);c.a.render(a.a.createElement(st,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,r){e.exports={paginator:"Paginator_paginator__1R0mM",pageNumber:"Paginator_pageNumber__2UC0X",btn:"Paginator_btn__3o7St",btnIcon:"Paginator_btnIcon__ewarg",selectedPage:"Paginator_selectedPage__3ScE-"}},40:function(e,t,r){"use strict";var n=r(137),a=r.n(n),o=r(0),c=r.n(o),s=r(138),i=r.n(s);t.a=function(){return c.a.createElement("div",{className:i.a.container},c.a.createElement("img",{src:a.a}))}},45:function(e,t,r){e.exports={header:"Header_header__48vn1",banner:"Header_banner__3DtHZ",logFrom:"Header_logFrom__F1Wg2",login:"Header_login__3xkSX",logoutBtn:"Header_logoutBtn__1r2kf",name:"Header_name__Mw1Cf",error:"Header_error__1pKnf"}},71:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"max length is ".concat(e," symbols")}}},72:function(e,t,r){e.exports={wrapper:"App_wrapper__2Qm7o",content:"App_content__3nMuA",bg:"App_bg__3gsts"}},9:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i}));var n=r(134),a=r.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"99877a27-c404-4003-9d7e-bbb983559996"}}),o={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return c.getProfile(e)}},c={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo/",t,{headers:{"Content-type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile/",e)}},s={me:function(){return a.get("auth/me")},login:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:r,captcha:n})},logout:function(){return a.delete("auth/login")}},i={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},97:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return _})),r.d(t,"g",(function(){return E})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return P}));var n=r(6),a=r.n(n),o=r(11),c=r(44),s=r(12),i=r(9),u=r(25);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f="social-network/profile/ADD-POST",m="social-network/profile/SET_USER_PROFILE",d="social-network/profile/SET_STATUS",g="social-network/profile/SAVE_PHOTO_SUCCESS",b="social-network/profile/DELETE_POST",h={posts:[{id:1,message:"Its my first post",likeCount:12},{id:2,message:"Hi, how are you?",likeCount:14}],profile:null,status:""},v=function(e){return{type:f,newPostText:e}},O=function(e){return{type:d,status:e}},w=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getProfile(e);case 2:n=t.sent,r((a=n.data,{type:m,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:n=t.sent,r(O(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&r(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&r((a=n.data.data.photos,{type:g,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r,n){var o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().auth.userId,t.next=3,i.b.saveProfile(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}r(w(o)),t.next=10;break;case 8:return r(Object(u.b)("edit-profile",{_error:c.data.messages[0]})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var r={id:5,message:t.newPostText,likeCount:0};return p({},e,{posts:[].concat(Object(c.a)(e.posts),[r]),newPostText:""});case d:return p({},e,{status:t.status});case m:return p({},e,{profile:t.profile});case b:return p({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case g:return p({},e,{profile:p({},e.profile,{photos:t.photos})});default:return e}}}},[[169,1,2]]]);
//# sourceMappingURL=main.355bc431.chunk.js.map