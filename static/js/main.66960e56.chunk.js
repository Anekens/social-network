(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{128:function(e,t,r){"use strict";r.d(t,"b",(function(){return f}));var n=r(44),a=r(12),o=r(27),c=r.n(o),s=(r(0),r(26));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(r,!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={usersData:[{name:"Max",id:1,avatar:c.a},{name:"Vlad",id:2,avatar:c.a},{name:"Vanya",id:3,avatar:c.a},{name:"Ilya",id:4,avatar:c.a},{name:"Anastasiya",id:5,avatar:c.a},{name:"Dimych",id:6,avatar:c.a}],messagesData:[{text:"Hi",id:1},{text:"See you later",id:2},{text:"No problem",id:3},{text:"okay",id:4},{text:"ok",id:5},{text:"not yet",id:6}],dialogs:[{you:!0,message:"Hi"},{you:!1,message:"How's it going?"}]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var r={you:!0,message:t.message};return u({},e,{dialogs:[].concat(Object(n.a)(e.dialogs),[r])});default:return e}};var f=function(e){return function(t){t({type:"SEND-MESSAGE",message:e}),t(Object(s.a)("dialogWithFriend"))}}},132:function(e,t,r){e.exports={content:"Settings_content__krBBL"}},136:function(e,t,r){e.exports=r.p+"static/media/prevBtn.1d79418f.svg"},137:function(e,t,r){e.exports=r.p+"static/media/nextBtn.c46d3e94.svg"},138:function(e,t,r){e.exports=r.p+"static/media/Spinner-1s-200px.dd067c7a.svg"},139:function(e,t,r){e.exports={container:"Preloader_container__jjRrI"}},168:function(e,t,r){e.exports=r(294)},19:function(e,t,r){e.exports={main:"users_main__1YCxm",wrapper:"users_wrapper__19FtL",item:"users_item__3vkrY",userPhoto:"users_userPhoto__3UJlr",avatar:"users_avatar__1in-E",info:"users_info__1xSiq",name:"users_name__2b6c8",status:"users_status__3IcnY",button:"users_button__2EomJ",follow:"users_follow__3L8N5"}},21:function(e,t,r){e.exports={nav:"Navbar_nav__1OJLH",navList:"Navbar_navList__qa2Cx",item:"Navbar_item__3KyAM",activeNav:"Navbar_activeNav__1iNNC",friends:"Navbar_friends__2YuxU"}},27:function(e,t,r){e.exports=r.p+"static/media/user.93a57c9f.png"},28:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return p})),r.d(t,"a",(function(){return m}));var n=r(95),a=r(0),o=r.n(a),c=r(29),s=r.n(c),i=r(90),u=function(e){e.input;var t=e.meta,r=t.touched,n=t.error,a=e.children,c=r&&n;return o.a.createElement("div",{className:s.a.formControl+" "+(c?s.a.error:"")},o.a.createElement("div",null,a),c&&o.a.createElement("span",null,n))},l=function(e){var t=e.input,r=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("textarea",Object.assign({},t,r)))},f=function(e){var t=e.input,r=(e.meta,e.child,Object(n.a)(e,["input","meta","child"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},t,r)))},p=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(i.a,Object.assign({placeholder:e,name:t,validate:r,component:n},a)),c)},m=function(e){var t=e.input,r=e.meta,n=r.touched&&r.error;return o.a.createElement("div",null,o.a.createElement("textarea",Object.assign({className:n?s.a.textareaDialog+" "+s.a.error:s.a.textareaDialog},t)),n&&o.a.createElement("span",{className:s.a.errorMessage},r.error))}},29:function(e,t,r){e.exports={formControl:"FormsControls_formControl__3bDX4",error:"FormsControls_error__2aktV",formSummaryError:"FormsControls_formSummaryError__1pruc",textarea:"FormsControls_textarea__5GOaT",textareaDialog:"FormsControls_textareaDialog__2FU_y",errorMessage:"FormsControls_errorMessage__3AyMm",inputField:"FormsControls_inputField__opXlg"}},293:function(e,t,r){},294:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=r(66),c=r.n(o),s=r(53),i=r(54),u=r(64),l=r(55),f=r(65),p=r(72),m=r.n(p),d=r(21),g=r.n(d),b=r(22),h=function(){return a.a.createElement("nav",{className:g.a.nav},a.a.createElement("div",{className:g.a.navList},a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/profile",activeClassName:g.a.activeNav},"Profile")),a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/dialogs",activeClassName:g.a.activeNav},"Messages")),a.a.createElement("div",{className:g.a.item},a.a.createElement(b.b,{to:"/users",activeClassName:g.a.activeNav},"Users")),a.a.createElement("div",{className:"".concat(g.a.item," ").concat(g.a.settings)},a.a.createElement(b.b,{to:"/settings",activeClassName:g.a.activeNav},"Settings"))))},v=r(132),O=r.n(v),w=function(){return a.a.createElement("div",{className:O.a.content},"Settings")},_=r(34),E=r(17),y=r(6),P=r.n(y),j=r(11),S=r(44),C=r(12),N=r(9);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var x=function(e,t,r,n){return e.map((function(e){return e[r]===t?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(C.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{},n):e}))};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(r,!0).forEach((function(t){Object(C.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D="social-network/users/FOLLOW",F="social-network/users/UNFOLLOW",A="social-network/users/SET_USERS",T="social-network/users/SET_CURRENT_PAGE",L="social-network/users/SET_TOTAL_USERS_COUNT",z="social-network/users/TOGGLE_IS_FETCHING",M={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},G=function(e){return{type:D,userId:e}},H=function(e){return{type:F,userId:e}},R=function(e){return{type:T,currentPage:e}},B=function(e){return{type:z,isFetching:e}},W=function(e,t){return{type:"social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},X=function(){var e=Object(j.a)(P.a.mark((function e(t,r,n,a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(W(!0,r)),e.next=3,n(r);case 3:0===e.sent.data.resultCode&&t(a(r)),t(W(!1,r));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return U({},e,{users:x(e.users,t.userId,"id",{followed:!0})});case F:return U({},e,{users:x(e.users,t.userId,"id",{followed:!1})});case A:return U({},e,{users:t.users});case T:return U({},e,{currentPage:t.currentPage});case L:return U({},e,{totalUsersCount:t.count});case z:return U({},e,{isFetching:t.isFetching});case"social-network/users/TOGGLE_IS_FOLLOWING_PROGRESS":return U({},e,{followingInProgress:t.isFetching?[].concat(Object(S.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},V=r(19),Y=r.n(V),q=r(97),K=r(35),Z=r.n(K),Q=r(135),$=r.n(Q),ee=r(136),te=r.n(ee),re=r(137),ne=r.n(re),ae=function(e){for(var t=e.totalItemsCount,r=e.pageSize,o=e.currentPage,c=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,u=Math.ceil(t/r),l=[],f=1;f<=u;f++)l.push(f);var p=Math.ceil(u/i),m=Object(n.useState)(1),d=Object(q.a)(m,2),g=d[0],b=d[1],h=(g-1)*i+1,v=g*i;return a.a.createElement("div",{className:Z.a.paginator},g>1&&a.a.createElement("button",{className:Z.a.btn,onClick:function(){b(g-1)}},a.a.createElement("img",{className:Z.a.btnIcon,src:te.a})),l.filter((function(e){return e>=h&&e<=v})).map((function(e){return a.a.createElement("span",{className:$()(Object(C.a)({},Z.a.selectedPage,o===e),Z.a.pageNumber),key:e,onClick:function(t){c(e)}},e)})),p>g&&a.a.createElement("button",{className:Z.a.btn,onClick:function(){b(g+1)}}," ",a.a.createElement("img",{className:Z.a.btnIcon,src:ne.a})))},oe=r(27),ce=r.n(oe),se=function(e){return a.a.createElement("div",{className:Y.a.wrapper},a.a.createElement("div",{className:Y.a.item},a.a.createElement("div",{className:Y.a.avatar},a.a.createElement(b.b,{to:"/profile/"+e.user.id},a.a.createElement("img",{alt:"avatar",src:null!=e.user.photos.small?e.user.photos.small:ce.a,className:Y.a.userPhoto}))),a.a.createElement("div",{className:Y.a.info},a.a.createElement("div",{className:Y.a.name},e.user.name),a.a.createElement("div",{className:Y.a.status},e.user.status))),a.a.createElement("div",{className:Y.a.button},e.user.followed?a.a.createElement("button",{className:Y.a.follow,disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollow(e.user.id)}},"Unfollow"):a.a.createElement("button",{className:Y.a.follow,disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.follow(e.user.id)}},"Follow")))},ie=function(e){return a.a.createElement("div",{className:Y.a.main},a.a.createElement(ae,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalItemsCount:e.totalUsersCount,pageSize:e.pageSize}),e.users.map((function(t){return a.a.createElement(se,{user:t,key:t.id,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow})})))},ue=r(40),le=r(8),fe=r(140),pe=Object(fe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),me=function(e){return e.usersPage.pageSize},de=function(e){return e.usersPage.totalUsersCount},ge=function(e){return e.usersPage.currentPage},be=function(e){return e.usersPage.isFetching},he=function(e){return e.usersPage.followingInProgress},ve=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onPageChanged=function(e){var t=r.props.pageSize;r.props.getUsers(e,t)},r}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,r=e.pageSize;this.props.getUsers(t,r)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.props.isFetching?a.a.createElement(ue.a,null):null,a.a.createElement(ie,{onPageChanged:this.onPageChanged,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress}))}}]),t}(a.a.Component),Oe=Object(le.d)(Object(E.b)((function(e){return{users:pe(e),pageSize:me(e),totalUsersCount:de(e),currentPage:ge(e),isFetching:be(e),followingInProgress:he(e)}}),{follow:function(e){return function(){var t=Object(j.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(r,e,N.d.follow.bind(N.d),G);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(j.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:X(r,e,N.d.unfollow.bind(N.d),H);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:R,toggleFollowingProgress:W,getUsers:function(e,t){return function(){var r=Object(j.a)(P.a.mark((function r(n){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n(B(!0)),n(R(e)),r.next=4,N.d.getUsers(e,t);case 4:a=r.sent,n(B(!1)),n((c=a.items,{type:A,users:c})),n((o=a.totalCount,{type:L,count:o}));case 8:case"end":return r.stop()}var o,c}),r)})));return function(e){return r.apply(this,arguments)}}()}}))(ve),we=r(45),_e=r.n(we),Ee=function(e){var t=e.isAuth,r=e.login,n=e.logout;return a.a.createElement("header",{className:_e.a.header},a.a.createElement("div",{className:_e.a.banner},t?a.a.createElement("div",{className:_e.a.logFrom},a.a.createElement("h3",{className:_e.a.name},r),a.a.createElement("span",{className:_e.a.logoutBtn,onClick:function(){return n()}},"Logout")):a.a.createElement(_.a,{to:"/login"})))},ye=r(26);function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(r,!0).forEach((function(t){Object(C.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Se="social-network/auth/SET_USER_DATA",Ce={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},Ne=function(e,t,r,n){return{type:Se,payload:{userId:e,email:t,login:r,isAuth:n}}},ke=function(e){return{type:"social-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},xe=function(){return function(){var e=Object(j.a)(P.a.mark((function e(t){var r,n,a,o,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.me();case 2:0===(r=e.sent).data.resultCode&&(n=r.data.data,a=n.id,o=n.email,c=n.login,t(Ne(a,o,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ie=function(){return function(){var e=Object(j.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.c.getCaptchaUrl();case 2:r=e.sent,n=r.data.url,t(ke(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:case"social-network/auth/GET_CAPTCHA_URL_SUCCESS":return je({},e,{},t.payload);default:return e}},De=Object(E.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getAuthUserData:xe,logout:function(){return function(){var e=Object(j.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.logout();case 2:0===e.sent.data.resultCode&&t(Ne(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){return a.a.createElement(Ee,Object.assign({},e,{logout:e.logout}))})),Fe=r(129),Ae=r(28),Te=r(71),Le=r(29),ze=r.n(Le),Me=Object(Fe.a)({form:"login"})((function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},Object(Ae.d)("Email","email",[Te.b],Ae.b),Object(Ae.d)("Password","password",[Te.b],Ae.b,{type:"password"}),Object(Ae.d)(null,"rememberMe",[],Ae.b,{type:"checkbox"},"remember me"),e.captchaUrl&&a.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),e.captchaUrl&&Object(Ae.d)("Symbols from image","captcha",[Te.b],Ae.b),e.error&&a.a.createElement("div",{className:ze.a.formSummaryError},e.error),a.a.createElement("div",null,a.a.createElement("button",null,"Login")))})),Ge=Object(E.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,r,n){return function(){var a=Object(j.a)(P.a.mark((function a(o){var c,s;return P.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.login(e,t,r,n);case 2:0===(c=a.sent).data.resultCode?o(xe()):(10===c.data.resultCode&&o(Ie()),s=c.data.messages.length>0?c.data.messages[0]:"Some error",o(Object(ye.b)("login",{_error:s})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?a.a.createElement(_.a,{to:"/profile"}):a.a.createElement("div",null,a.a.createElement("h1",null,"LOGIN"),a.a.createElement(Me,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))}));function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(r,!0).forEach((function(t){Object(C.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Be="social-network/app/INITIALIZED_SUCCESS",We={initialized:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Re({},e,{initialized:!0});default:return e}},Je=r(96),Ve=r(128),Ye={},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye;arguments.length>1&&arguments[1];return e},Ke=r(142),Ze=r(130),Qe=Object(le.c)({profilePage:Je.b,messagesPage:Ve.a,sidebar:qe,usersPage:J,auth:Ue,form:Ze.a,app:Xe}),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.d,et=Object(le.e)(Qe,$e(Object(le.a)(Ke.a)));window._store_=et;var tt=et,rt=function(e){return function(t){return a.a.createElement(n.Suspense,{fallback:a.a.createElement(ue.a,null)},a.a.createElement(e,t))}},nt=a.a.lazy((function(){return r.e(5).then(r.bind(null,303))})),at=a.a.lazy((function(){return r.e(4).then(r.bind(null,302))})),ot=a.a.lazy((function(){return r.e(3).then(r.bind(null,301))})),ct=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?a.a.createElement("div",{className:m.a.wrapper},a.a.createElement(De,null),a.a.createElement(h,null),a.a.createElement("div",{className:m.a.content},a.a.createElement("div",{className:m.a.bg}),a.a.createElement(_.d,null,a.a.createElement(_.b,{exact:!0,path:"/",render:function(){return a.a.createElement(_.a,{to:"/profile"})}}),a.a.createElement(_.b,{exact:!0,path:"/dialogs",render:rt(at)}),a.a.createElement(_.b,{exact:!0,path:"/dialogs/:userId",render:rt(nt)}),a.a.createElement(_.b,{path:"/profile/:userId?",render:rt(ot)}),a.a.createElement(_.b,{path:"/users",render:function(){return a.a.createElement(Oe,null)}}),a.a.createElement(_.b,{path:"/settings",render:function(){return a.a.createElement(w,null)}}),a.a.createElement(_.b,{path:"/login",render:function(){return a.a.createElement(Ge,null)}}),a.a.createElement(_.b,{path:"*",render:function(){return a.a.createElement("div",null,"404 NOT FOUND")}})))):a.a.createElement(ue.a,null)}}]),t}(a.a.Component),st=Object(le.d)(_.g,Object(E.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(xe());Promise.all([t]).then((function(){e({type:Be})}))}}}))(ct),it=function(){return a.a.createElement(b.a,null,a.a.createElement(E.a,{store:tt},a.a.createElement(st,null)))};r(293);c.a.render(a.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,t,r){e.exports={paginator:"Paginator_paginator__1R0mM",pageNumber:"Paginator_pageNumber__2UC0X",btn:"Paginator_btn__3o7St",btnIcon:"Paginator_btnIcon__ewarg",selectedPage:"Paginator_selectedPage__3ScE-"}},40:function(e,t,r){"use strict";var n=r(138),a=r.n(n),o=r(0),c=r.n(o),s=r(139),i=r.n(s);t.a=function(){return c.a.createElement("div",{className:i.a.container},c.a.createElement("img",{src:a.a}))}},45:function(e,t,r){e.exports={header:"Header_header__48vn1",banner:"Header_banner__3DtHZ",logFrom:"Header_logFrom__F1Wg2",login:"Header_login__3xkSX",logoutBtn:"Header_logoutBtn__1r2kf",name:"Header_name__Mw1Cf",error:"Header_error__1pKnf"}},71:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"max length is ".concat(e," symbols")}}},72:function(e,t,r){e.exports={wrapper:"App_wrapper__2Qm7o",content:"App_content__3nMuA",bg:"App_bg__3gsts"}},9:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return c})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i}));var n=r(134),a=r.n(n).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"99877a27-c404-4003-9d7e-bbb983559996"}}),o={getUsers:function(e,t){return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return c.getProfile(e)}},c={getProfile:function(e){return a.get("profile/"+e)},getStatus:function(e){return a.get("profile/status/"+e)},updateStatus:function(e){return a.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo/",t,{headers:{"Content-type":"multipart/form-data"}})},saveProfile:function(e){return a.put("profile/",e)}},s={me:function(){return a.get("auth/me")},login:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:r,captcha:n})},logout:function(){return a.delete("auth/login")}},i={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},96:function(e,t,r){"use strict";r.d(t,"a",(function(){return v})),r.d(t,"d",(function(){return w})),r.d(t,"c",(function(){return _})),r.d(t,"g",(function(){return E})),r.d(t,"e",(function(){return y})),r.d(t,"f",(function(){return P}));var n=r(6),a=r.n(n),o=r(11),c=r(44),s=r(12),i=r(9),u=r(26);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p="social-network/profile/ADD-POST",m="social-network/profile/SET_USER_PROFILE",d="social-network/profile/SET_STATUS",g="social-network/profile/SAVE_PHOTO_SUCCESS",b="social-network/profile/DELETE_POST",h={posts:[{id:1,message:"Its my first post",likeCount:12},{id:2,message:"Hi, how are you?",likeCount:14}],profile:null,status:""},v=function(e){return{type:p,newPostText:e}},O=function(e){return{type:d,status:e}},w=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.getProfile(e);case 2:n=t.sent,r((a=n.data,{type:m,profile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:n=t.sent,r(O(n.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&r(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.savePhoto(e);case 2:0===(n=t.sent).data.resultCode&&r((a=n.data.data.photos,{type:g,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(r,n){var o,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().auth.userId,t.next=3,i.b.saveProfile(e);case 3:if(0!==(c=t.sent).data.resultCode){t.next=8;break}r(w(o)),t.next=10;break;case 8:return r(Object(u.b)("edit-profile",{_error:c.data.messages[0]})),t.abrupt("return",Promise.reject(c.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var r={id:5,message:t.newPostText,likeCount:0};return f({},e,{posts:[].concat(Object(c.a)(e.posts),[r]),newPostText:""});case d:return f({},e,{status:t.status});case m:return f({},e,{profile:t.profile});case b:return f({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case g:return f({},e,{profile:f({},e.profile,{photos:t.photos})});default:return e}}}},[[168,1,2]]]);
//# sourceMappingURL=main.66960e56.chunk.js.map